<%@page import="com.icia.drawAcademy.dto.QboardDto"%>
<%@page import="com.icia.drawAcademy.dao.Qboarddao.QboardDao"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
   pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>게시물 작성</title>
<script>
   $(function() {
      let m = "${msg}";
      if (m != "") {
         alert(m);
      }
   });
</script>
</head>
<body>
      <form action="qwriteProc" method="post">
         <h2>게시물 등록</h2>
         <input type="hidden" value="${sessionScope.login.m_id}" name="m_id">
         <input type="hidden" value="${sessionScope.login.m_name}" name="m_name">
         <input type="text" placeholder="제목" name="b_title">
         <textarea placeholder="내용" name="b_contents"></textarea>
         <button value="submit">등록</button>
      </form>
   
   <%
   System.out.println("qboard_m_id: " + request.getAttribute("qboard_m_id"));
   %>
   <%
   System.out.println("session.login: " + session.getAttribute("login"));
   %>
</body>
<script>
//엔터 기능 막기 
document.addEventListener('DOMContentLoaded', function() {
   var contentInput = document
         .querySelector('.write input[name="b_contents"]');

   contentInput.addEventListener('keydown', function(event) {
      if (event.key === 'Enter') {
         event.preventDefault(); // 기본 엔터 기능 막기
         var contentValue = this.value;
         var selectionStart = this.selectionStart;
         var selectionEnd = this.selectionEnd;
         this.value = contentValue.slice(0, selectionStart) + '\n'
               + contentValue.slice(selectionEnd);
         this.selectionStart = this.selectionEnd = selectionStart + 1; // 커서 이동
      }
   });
});

</script>

</html>